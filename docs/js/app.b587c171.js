(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-gantt-chart/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0216":function(t,e,s){"use strict";s("180a")},"0e35":function(t,e,s){"use strict";s("a7e5")},"0f58":function(t,e,s){"use strict";s("ebc9")},"180a":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"gantt-container"},[s("div",{staticClass:"gantt-chart-controls"},[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.snapToGrid,expression:"snapToGrid"}],attrs:{type:"checkbox",id:"snap-mode"},domProps:{checked:Array.isArray(t.snapToGrid)?t._i(t.snapToGrid,null)>-1:t.snapToGrid},on:{change:function(e){var s=t.snapToGrid,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.snapToGrid=s.concat([i])):r>-1&&(t.snapToGrid=s.slice(0,r).concat(s.slice(r+1)))}else t.snapToGrid=n}}}),s("label",{attrs:{for:"snap-mode"}},[t._v("Snap to grid")])]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.verbose,expression:"verbose"}],attrs:{type:"checkbox",id:"verbose"},domProps:{checked:Array.isArray(t.verbose)?t._i(t.verbose,null)>-1:t.verbose},on:{change:function(e){var s=t.verbose,a=e.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.verbose=s.concat([i])):r>-1&&(t.verbose=s.slice(0,r).concat(s.slice(r+1)))}else t.verbose=n}}}),s("label",{attrs:{for:"verbose"}},[t._v("Verbose")])]),s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTimePeriod,expression:"selectedTimePeriod"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedTimePeriod=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"hours"}},[t._v("Hours")]),s("option",{attrs:{value:"days"}},[t._v("Days")]),s("option",{attrs:{value:"weeks"}},[t._v("Weeks")]),s("option",{attrs:{value:"months"}},[t._v("Months")]),s("option",{attrs:{value:"quarters"}},[t._v("Quarters")]),s("option",{attrs:{value:"years"}},[t._v("Years")])])])]),s("div",{staticClass:"gantt-chart-wrapper"},[s("GanttChart",t._b({},"GanttChart",{chart:t.chart},!1))],1),t.verbose?s("pre",{staticClass:"gantt-chart-data",domProps:{textContent:t._s(JSON.stringify(t.chartJSON,null,2))}}):t._e()])])},i=[],r=(s("bf19"),s("b0c0"),s("d81d"),s("cb29"),s("d3b7"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gantt-chart",style:t.cssVars,on:{mousewheel:t.zoom}},[s("Modal",{attrs:{modal:t.taskSpawnModal}},[s("div",{staticClass:"modal-task-spawn"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskSpawnModal.taskName,expression:"taskSpawnModal.taskName"}],attrs:{type:"text"},domProps:{value:t.taskSpawnModal.taskName},on:{input:function(e){e.target.composing||t.$set(t.taskSpawnModal,"taskName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskSpawnModal.taskStart,expression:"taskSpawnModal.taskStart"}],attrs:{type:"text"},domProps:{value:t.taskSpawnModal.taskStart},on:{input:function(e){e.target.composing||t.$set(t.taskSpawnModal,"taskStart",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskSpawnModal.taskEnd,expression:"taskSpawnModal.taskEnd"}],attrs:{type:"text"},domProps:{value:t.taskSpawnModal.taskEnd},on:{input:function(e){e.target.composing||t.$set(t.taskSpawnModal,"taskEnd",e.target.value)}}}),s("div",{staticClass:"actions"},[s("button",{staticClass:"cancel",on:{click:t.spawnTaskModalActionCancel}},[t._v(" Cancel ")]),s("button",{staticClass:"save",on:{click:t.spawnTaskModalActionSave}},[t._v("Save")])])])]),s("header",{staticClass:"gantt-header"},[s("div",{staticClass:"time-spacer"}),s("div",{staticClass:"time-wrapper"},[s("div",{staticClass:"time",style:{transform:"translateX(-"+t.timeline.getScrollLeft()+"px)"}},[s("div",{staticClass:"gantt-timeunits-primary"},t._l(t.timelineData.primary,(function(e){return s("div",{key:e.name,staticClass:"gantt-timeunit-primary",style:{width:e.width+"px",transform:"translateX("+e.left+"px)"},domProps:{textContent:t._s(e.name)}})})),0),s("div",{staticClass:"gantt-timeunits-secondary"},t._l(t.timelineData.secondary,(function(e,a){return s("div",{key:"time-unit-"+e.name+"-"+a,staticClass:"gantt-timeunit-secondary",domProps:{textContent:t._s(e.name)}})})),0)])])]),s("div",{staticClass:"gantt-workspace"},[s("div",{staticClass:"gantt-resources"},[t._l(t.resources,(function(e){return s("div",{key:e.id,staticClass:"gantt-resource",class:e.classes,style:{height:e.getHeightPx()+"px"},attrs:{id:e.id},domProps:{textContent:t._s(e.name)}})})),s("div",{staticClass:"gantt-resource"},[s("button",{staticStyle:{width:"100%",height:"50px","border-radius":"0",border:"none"},on:{click:function(e){return t.chart.createResource({name:"New Resource"})}}},[t._v(" + ")])])],2),s("div",{ref:t.timeline.id,staticClass:"gantt-timeline",attrs:{id:t.timeline.id},on:{mousedown:t.taskSpawnStart}},[s("div",{staticClass:"gantt-timeline-dividers"},[t._l(t.timelineData.dividersV,(function(e){return s("div",{key:"dv-"+e.left,staticClass:"divider-v",class:{emphasize:e.emphasize},style:{transform:"translateX("+(e.left-t.timelineScrollLeft)+"px)"}})})),t._l(t.timelineData.dividersH,(function(e){return s("div",{key:"dh-"+e.top,staticClass:"divider-h",class:{emphasize:e.emphasize},style:{width:t.timelineData.totalWidth+"px",transform:"translateY("+e.top+"px)"}})}))],2),s("div",{staticClass:"tasks"},t._l(t.filteredTasks,(function(e){return s("Task",t._b({key:"task-"+e.id},"Task",{task:e},!1))})),1)])]),s("footer",{staticClass:"gantt-chart-footer"},[s("div",{ref:"virtualScroll",staticClass:"virtual-scroll-wrapper",on:{scroll:t.scroll,mousedown:function(e){return t.toggleAnimations(!1)},mouseup:function(e){return t.toggleAnimations(!0)}}},[s("div",{staticClass:"virtual-scroll",style:{width:t.timelineData.totalWidth+"px",height:"20px"}})])])],1)}),o=[],c=(s("4de4"),s("25f0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task",class:{interacted:t.interacted,animate:t.animate},style:Object.assign({},{width:t.task.getWidthPx()+"px",transform:"translate("+t.task.getLeftPx()+"px, "+t.task.getTopPx()+"px)"},t.task.style),on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.task.moveStart(e)}}},[s("div",{staticClass:"resize-handle left",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.task.resizeStart(t.SIDES.left,e)}}}),s("div",{staticClass:"task-content"},[s("div",{staticClass:"task-name",domProps:{textContent:t._s(""+t.task.name)}}),s("div",{staticClass:"task-start",domProps:{textContent:t._s("Start: "+t.task.getStartString()+" | Duration: "+t.task.getDurationString())}})]),s("div",{staticClass:"resize-handle right",on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.task.resizeStart(t.SIDES.right,e)}}})])}),u=[],l=s("d4ec"),d=s("bee2"),h=(s("a9e3"),s("99af"),s("a15b"),s("b85c"));s("6062"),s("3ca3"),s("ddb0"),s("a630"),s("07ac"),s("4e82"),s("fb6a"),s("a434"),s("ac1f"),s("5319"),s("5cc6"),s("907a"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7");function f(t,e){var s=t.slice(),a=s.indexOf(e);return a>-1&&s.splice(a,1),s}function m(t,e){return Math.round(t/e)*e}function v(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}var g=function(){function t(e){Object(l["a"])(this,t);var s=Object.assign({},e);this.chart=s.chart,this.id="resource-".concat(v()),this.name=s.name,this.height=1,this.classes_=new Set(s.classes||[])}return Object(d["a"])(t,[{key:"classes",get:function(){return Array.from(this.classes_)}},{key:"addClass",value:function(t){this.classes_.add(t)}},{key:"removeClass",value:function(t){this.classes_.delete(t)}},{key:"getHeight",value:function(){return this.height}},{key:"setHeight",value:function(t){this.height=t}},{key:"getHeightPx",value:function(){return this.height*this.chart.timeline.TASK_HEIGHT}},{key:"getTop",value:function(){var t,e=this.getIndex(),s=0,a=Object(h["a"])(this.chart.resources);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.getIndex()>=e)break;s+=n.getHeight()}}catch(i){a.e(i)}finally{a.f()}return s}},{key:"getIndex",value:function(){var t=this.chart.resources.indexOf(this);return t<0?0:t}},{key:"getTasks",value:function(){var t=this;return this.chart.tasks.filter((function(e){var s;return(null===(s=e.resource)||void 0===s?void 0:s.id)===t.id}))}},{key:"resolveCollisions",value:function(){var t=this.getTasks(),e={};t.forEach((function(s){t.forEach((function(t){s!==t&&s.collidesWith(t)&&(e[s.id]=s,e[t.id]=t)}))}));var s=Object.values(e);this.setHeight(Math.max(1,s.length)),s.sort((function(t,e){return e.getDuration()-t.getDuration()}));for(var a=0;a<s.length;a++)s[a].verticalOrder=a;var n,i=Object(h["a"])(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r.id]||(r.verticalOrder=0)}}catch(o){i.e(o)}finally{i.f()}}},{key:"toJSON",value:function(){return{id:this.id,name:this.name,style:this.style}}}],[{key:"fromJSON",value:function(e){return new t(e)}}]),t}(),p={left:0,right:1},y={none:0,move:1,resize:2,regroup:3},k=40,b=50,j="YYYY-MM-DD HH:mm",S={hours:{name:"hours",roundTo:"day",startDate:{unit:"hours",term:2},endDate:{unit:"hours",term:2},primary:{unit:"hours",format:"HH:mm MMM DD YYYY",secondaryPerUnit:6},secondary:{unit:"minutes",format:"HH:mm",step:10}},days:{name:"days",roundTo:"day",startDate:{unit:"days",term:5},endDate:{unit:"days",term:5},primary:{unit:"days",format:"ddd DD MMM YYYY",secondaryPerUnit:4},secondary:{unit:"hours",format:"HH:mm",step:6}},weeks:{name:"weeks",roundTo:"week",startDate:{unit:"months",term:1},endDate:{unit:"months",term:1},primary:{unit:"weeks",format:"ddd DD MMM YYYY",secondaryPerUnit:7},secondary:{unit:"days",format:"DD"}},months:{name:"months",roundTo:"year",startDate:{unit:"years",term:1},endDate:{unit:"years",term:1},primary:{unit:"months",format:"MMM YYYY",secondaryPerUnit:4},secondary:{unit:"weeks",format:"w"}},quarters:{name:"quarters",roundTo:"year",startDate:{unit:"years",term:2},endDate:{unit:"years",term:2},primary:{unit:"quarters",format:"[Q]Q YYYY",secondaryPerUnit:3},secondary:{unit:"months",format:"MMM"}},years:{name:"years",roundTo:"year",startDate:{unit:"years",term:5},endDate:{unit:"years",term:5},primary:{unit:"years",format:"YYYY",secondaryPerUnit:4},secondary:{unit:"quarters",format:"[Q]Q"}}},w=s("c1df"),T=s.n(w),D=function(){function t(e){Object(l["a"])(this,t);var s=Object.assign({},e);this.chart=s.chart,this.id=v(),this.name=s.name,this.start=T()(s.start,j).unix()||T.a.now(),this.end=T()(s.end,j).unix()||T.a.now(),this.verticalOrder=Number(s.verticalOrder)||0,s.resource instanceof g?(this.resource=s.resource,this.y_=this.resource.getTop()+this.verticalOrder):(this.y_=Number(s.y)||0,this.resource=this.chart.getResourceByY(this.y)),this.interaction=y.none,this.methodsRefs={},this.eventsMeta={},this.style=s.style||{}}return Object(d["a"])(t,[{key:"timeline",get:function(){return this.chart.timeline}},{key:"y",get:function(){return this.y_+this.verticalOrder},set:function(t){this.y_=t}},{key:"getWidthPx",value:function(){var t=this.getDuration()*this.getPixelsPerSecond(),e=this.timeline.getScrollWidth(),s=this.getLeftPx();return t+s>e?e-s:t}},{key:"getLeftPx",value:function(){return this.timeline.getPositionFromDate(T.a.unix(this.start))-this.timeline.getScrollLeft()}},{key:"getTopPx",value:function(){return this.isInteracted()?this.y*this.timeline.TASK_HEIGHT:(this.resource.getTop()+this.verticalOrder)*this.timeline.TASK_HEIGHT}},{key:"isInteracted",value:function(){return!this.interactionIs(y.none)}},{key:"isVisible",value:function(){var t=this.getLeftPx();return t+this.getWidthPx()>=0&&t<=this.timeline.getScrollWidth()}},{key:"getDuration",value:function(){return this.end-this.start}},{key:"getStartString",value:function(){return T.a.unix(this.start).format(j)}},{key:"getEndString",value:function(){return T.a.unix(this.end).format(j)}},{key:"getDurationString",value:function(){var t=T.a.duration(this.getDuration(),"seconds"),e=t.years(),s=t.months(),a=t.days(),n=t.hours(),i=t.minutes();return e?"".concat(e,"y"):s?"".concat(s,"mo"):a?"".concat(a,"d"):n?"".concat(n,"h"):"".concat(i,"m")}},{key:"interactionIs",value:function(t){return this.interaction===t}},{key:"setInteraction",value:function(t){return this.interaction!=y.none&&t!=y.none?(this.chart.settings.verbose&&console.warn(this.say("can't set interaction to ".concat(t," because ").concat(this.interaction," is already set"))),!1):(this.interaction=t,!0)}},{key:"getPixelsPerSecond",value:function(){return this.timeline.getPixelsPerSecond()}},{key:"resizeStart",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.setInteraction(y.resize);if(a){var n=this.chart.getSetting("snapToGrid",!1),i=(null===s||void 0===s?void 0:s.resizeEndCallback)||null;this.eventsMeta["resizeStart"]={side:t,snapToGrid:n,startX:e.clientX,startOld:this.start,endOld:this.end,resizeEndCallback:i},this.methodsRefs["resize"]=this.resize.bind(this),window.addEventListener("mousemove",this.methodsRefs["resize"]),window.addEventListener("mouseup",this.resizeEnd.bind(this),{once:!0})}}},{key:"resize",value:function(t){if(this.interactionIs(y.resize)&&this.eventsMeta["resizeStart"]){var e=this.eventsMeta["resizeStart"],s=e.startX,a=e.startOld,n=e.endOld,i=e.side,r=(t.clientX-s)/this.getPixelsPerSecond();i===p.left?a+r>=n?this.end=a+r:this.start=a+r:i===p.right&&(n+r<=a?this.start=n+r:this.end=n+r)}}},{key:"resizeEnd",value:function(){if(this.interactionIs(y.resize)){var t=this.eventsMeta["resizeStart"].resizeEndCallback;"function"===typeof t&&t(),this.resource.resolveCollisions(),window.removeEventListener("mousemove",this.methodsRefs["resize"]),delete this.eventsMeta["resizeStart"],this.setInteraction(y.none)}}},{key:"moveStart",value:function(t){this.setInteraction(y.move);var e=this.chart.getSetting("snapToGrid",!1);this.y=this.resource.getTop(),this.eventsMeta["moveStart"]={snapToGrid:e,startX:t.clientX,startY:t.clientY,startOld:this.start,endOld:this.end,yOld:this.y_},this.methodsRefs["move"]=this.move.bind(this),window.addEventListener("mousemove",this.methodsRefs["move"]),window.addEventListener("mouseup",this.moveEnd.bind(this),{once:!0})}},{key:"move",value:function(t){if(this.interactionIs(y.move)&&this.eventsMeta["moveStart"]){var e=this.eventsMeta["moveStart"],s=e.startX,a=e.startY,n=e.startOld,i=e.endOld,r=e.yOld,o=e.snapToGrid,c=t.clientX-s,u=t.clientY-a,l=0,d=0;if(o){var h=this.timeline.TIME_UNIT_WIDTH,f=Math.abs(c)>=h,v=Math.abs(u)>=this.timeline.TASK_HEIGHT;f&&(l=m(c,h)/this.getPixelsPerSecond()),v&&(d=Math.round(u/this.timeline.TASK_HEIGHT))}else l=c/this.getPixelsPerSecond(),d=u/this.timeline.TASK_HEIGHT;this.start=n+l,this.end=i+l,this.y=r+d,o||this.highlightTargetResource(this.y)}}},{key:"moveEnd",value:function(){if(this.interactionIs(y.move)){var t=this.chart.getResourceByY(Math.round(this.y)),e=this.resource;this.resource=t,e.id!=this.resource.id&&e.resolveCollisions(),this.resource.resolveCollisions(),this.timeline.updateDividers(),this.y=this.resource.getTop(),this.targetResourceUnset(),window.removeEventListener("mousemove",this.methodsRefs["move"]),delete this.eventsMeta["moveStart"],this.setInteraction(y.none)}}//! Resource highlighting is quite performance costly
},{key:"highlightTargetResource",value:function(t){var e=this.chart.getResourceByY(Math.round(t));e&&(this.targetResourceUnset(),e.addClass("task-target"),this.targetResource=e)}},{key:"targetResourceUnset",value:function(){this.targetResource&&(this.targetResource.removeClass("task-target"),delete this.targetResource)}},{key:"collidesWith",value:function(t){return!(this.resource.id!=t.resource.id||this.start>=t.end||this.end<=t.start)}},{key:"remove",value:function(){this.chart.removeTask(this)}},{key:"say",value:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return"Task ".concat(this.id," says: ").concat(e.join(" "))}},{key:"toJSON",value:function(){var t;return{id:this.id,name:this.name,start:this.start,end:this.end,resource:null===(t=this.resource)||void 0===t?void 0:t.id}}}],[{key:"fromJSON",value:function(e){return new t(e)}}]),t}(),P={name:"Task",props:{task:{type:D,required:!0}},data:function(){return{SIDES:p}},computed:{chart:function(){return this.task.chart},animate:function(){return this.chart.getSetting("tasksAnimations",!0)},interacted:function(){return this.task.isInteracted()}}},M=P,O=(s("0216"),s("2877")),x=Object(O["a"])(M,c,u,!1,null,"12a80047",null),_=x.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.modal.shown?s("div",{staticClass:"gantt-modal-wrapper"},[s("div",{staticClass:"gantt-modal",style:t.modal.style},[t.modal.title?s("h3",{staticClass:"title",domProps:{textContent:t._s(t.modal.title)}}):t._e(),t._t("default")],2)]):t._e()},E=[],z={name:"Modal",props:{modal:{type:Object,required:!0}}},I=z,H=(s("0e35"),Object(O["a"])(I,C,E,!1,null,"1a96dc6e",null)),Y=H.exports,R=(s("7db0"),s("53ca"));s("b64b");function N(t,e){return e||(e="day"),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),"day"===e?t:"week"===e?(t.setDate(t.getDate()-t.getDay()),t):(t.setDate(1),"month"===e?t:(t.setMonth(0),"year"===e?t:void 0))}function A(t,e){return e||(e="day"),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),"day"===e?(t.setDate(t.getDate()+1),t):"week"===e?(t.setDate(t.getDate()+(7-t.getDay())),t):(t.setDate(1),"month"===e?(t.setMonth(t.getMonth()+1),t):(t.setMonth(0),"year"===e?(t.setYear(1900+t.getYear()+1),t):void 0))}function G(t,e){return T()(N(t.toDate(),e))}function L(t,e){return T()(A(t.toDate(),e))}var W=function(){function t(e){Object(l["a"])(this,t);var s=Object.assign({},e);this.chart=s.chart,this.id="gantt-timeline-".concat(v()),this.timePeriod=s.timePeriod||S.days,this.timePeriodData={primary:[],secondary:[],totalWidth:0,dividersV:[],dividersH:[]},this.TIME_UNIT_WIDTH=k,this.TASK_HEIGHT=b,this.year=2022,this.month=1,this.day=13,this.hour=10,this.minute=0,this.scrollLeft=0,this.update()}return Object(d["a"])(t,[{key:"getScrollWidth",value:function(){var t;return(null===(t=this.timePeriodData)||void 0===t?void 0:t.totalWidth)||0}},{key:"getScrollLeft",value:function(){return this.scrollLeft}},{key:"scrollToMoment",value:function(t){t instanceof T.a||(t=T()(t));var e=this.getPositionFromDate(t);this.scrollTo(e)}},{key:"scrollTo",value:function(t){this.scrollLeft=t}},{key:"update",value:function(){this.getTimePeriod(),this.scrollToMoment(this.getCurrentMoment())}},{key:"updateDividers",value:function(){Object.assign(this.timePeriodData,this.getDividers())}},{key:"getPrimaryUnit",value:function(){return this.timePeriodData.primary.unit||"days"}},{key:"getSecondaryUnit",value:function(){return this.timePeriodData.secondary.unit||"hours"}},{key:"getCurrentDate",value:function(){return"".concat(this.year,"-").concat(this.month,"-").concat(this.day," ").concat(this.hour,":").concat(this.minute)}},{key:"getCurrentTimestamp",value:function(){return this.getCurrentMoment().unix()}},{key:"getCurrentMoment",value:function(){return T()(this.getCurrentDate(),j)}},{key:"getStartDate",value:function(){var t=this.timePeriod.roundTo||"day";return G(this.getCurrentMoment().subtract(this.timePeriod.startDate.term,this.timePeriod.startDate.unit),t)}},{key:"getEndDate",value:function(){var t=this.timePeriod.roundTo||"day";return L(this.getCurrentMoment().add(this.timePeriod.endDate.term,this.timePeriod.endDate.unit),t)}},{key:"setTimePeriodOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object.keys(S),s=e.indexOf(this.timePeriod.name),a=S[e[s+t]];a&&this.setTimePeriod(a)}},{key:"setTimePeriod",value:function(t){var e;"object"!=Object(R["a"])(t)&&(t=S[t]),S[null===(e=t)||void 0===e?void 0:e.name]&&(this.timePeriod=t,this.update())}},{key:"getTimePeriod",value:function(e){e=e||this.timePeriod,"object"!=Object(R["a"])(e)&&(e={name:e});var s,a=e.primary.unit||"days",n=e.secondary.unit||"hours",i=e.primary.secondaryPerUnit||1,r=e.primary.format||"MM/YYYY DD",o=e.secondary.format||"HH:mm",c=e.secondary.step||1,u=this.getStartDate(),l=this.getEndDate(),d=t.getTimeRange(u,l,a),f=[],m=this.TIME_UNIT_WIDTH*i,v=0,g=Object(h["a"])(d);try{for(g.s();!(s=g.n()).done;){var p=s.value,y=p.format(r),k=m;f.push({name:y,width:k,left:v}),v+=k}}catch(x){g.e(x)}finally{g.f()}var b=t.getTimeRange(u,l,n,{step:c}),j=d.length*i;b.length>j&&b.splice(j,b.length-j);var S,w=[],T=Object(h["a"])(b);try{for(T.s();!(S=T.n()).done;){var D=S.value,P=D.format(o);w.push({name:P,width:this.TIME_UNIT_WIDTH})}}catch(x){T.e(x)}finally{T.f()}var M={primary:f,secondary:w,totalWidth:v,primaryUnitWidth:m};Object.assign(this.timePeriodData,M);var O=this.getDividers();return Object.assign(this.timePeriodData,O),this.timePeriodData}},{key:"getDividers",value:function(){for(var t=this.timePeriodData.primaryUnitWidth,e=this.timePeriodData.totalWidth,s=Math.floor(e/t),a=Math.floor(e/this.TIME_UNIT_WIDTH),n={},i=1;i<s;i++){var r=i*t;n[r]={left:r,emphasize:!0}}for(var o=1;o<a;o++){var c=o*this.TIME_UNIT_WIDTH;n[c]||(n[c]={left:c})}for(var u=this.chart.resources.length,l=[],d=0,h=1;h<=u;h++){var f=this.chart.getResourceByIndex(h-1),m=d+f.getHeightPx();d=m,l.push({top:m,emphasize:!0})}return{dividersV:Object.values(n),dividersH:l}}},{key:"getPixelsPerSecond",value:function(){return this.timePeriodData.totalWidth/this.getEndDate().diff(this.getStartDate(),"seconds")}},{key:"getDateFromPosition",value:function(t){var e=t+this.getScrollLeft();return this.getStartDate().add(e/this.getPixelsPerSecond(),"seconds")}},{key:"getPositionFromDate",value:function(t){var e=t.diff(this.getStartDate(),"seconds"),s=this.getPixelsPerSecond();return e*s}},{key:"toJSON",value:function(){return{timePeriod:this.timePeriod,year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute}}}],[{key:"getTimeRange",value:function(t,e,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=a.step||1,i=a.format||null,r=a.stringify||!1,o=t instanceof T.a?t:T()(t),c=e instanceof T.a?e:T()(e),u=c.diff(o,s);if(u<0)return[];for(var l=[],d=0;d<u;d+=n){var h=T()(o).add(d,s);i&&(h=h.format(i)),r&&(h=h.toString()),l.push(h)}return l}},{key:"fromJSON",value:function(e){return new t(e)}}]),t}(),U=function(){function t(e){Object(l["a"])(this,t);var s=Object.assign({},e),a={verbose:!1,snapToGrid:!1,tasksAnimations:!0};this.id="gantt-chart-".concat(v()),this.tasks=s.tasks||[],this.resources=s.resources||[],this.settings=Object.assign({},a,s.settings),this.timeline=new W({chart:this})}return Object(d["a"])(t,[{key:"createTask",value:function(t){var e=new D(Object.assign({},t,{chart:this}));return this.addTask(e),e}},{key:"addTask",value:function(t){t instanceof D?this.tasks.push(t):this.settings.verbose&&console.warn("Task must be an instance of Task class")}},{key:"removeTask",value:function(t){this.tasks=f(this.tasks,t)}},{key:"createResource",value:function(t){var e=new g(Object.assign({},t,{chart:this}));return this.addResource(e),e}},{key:"addResource",value:function(t){t instanceof g?(this.resources.push(t),this.timeline.updateDividers()):this.settings.verbose&&console.warn("Resource must be an instance of Resource class")}},{key:"removeResource",value:function(t){this.resources=f(this.resources,t)}},{key:"getResourceByIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.resources[t];var s=Math.max(0,Math.min(t,this.resources.length-1));return this.resources[s]}},{key:"getResourceById",value:function(t){return this.resources.find((function(e){return e.id===t}))}},{key:"getResourceByY",value:function(t){if(t<0)return this.resources[0];var e=0,s=this.resources.map((function(t){var s=t.getHeight(),a={id:t.id,top:e,bottom:s+e};return e+=s,a}));if(t>=e)return this.resources[this.resources.length-1];var a=s.find((function(e){return t>=e.top&&t<e.bottom}));return this.getResourceById(a.id)}},{key:"getTotalResourcesHeight",value:function(){return this.resources.reduce((function(t,e){return t+e.getHeightPx()}),this.timeline.TASK_HEIGHT)}},{key:"setSettings",value:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(this.settings,e)&&(this.settings[e]=t[e])}},{key:"getSetting",value:function(t,e){return Object.prototype.hasOwnProperty.call(this.settings,t)?this.settings[t]:e}},{key:"toJSON",value:function(){return{id:this.id,tasks:this.tasks.map((function(t){return t.toJSON()})),resources:this.resources.map((function(t){return t.toJSON()})),settings:this.settings}}}],[{key:"fromJSON",value:function(e){return new t(e)}}]),t}(),J={name:"GanttChart",components:{Modal:Y,Task:_},props:{chart:{type:U,required:!0}},data:function(){return{SIDES:p,taskSpawnData:null,taskSpawnModal:{shown:!1,style:{width:"210px"},title:"Edit task data",taskName:"",taskStart:"",taskEnd:""}}},computed:{tasks:function(){return this.chart.tasks},resources:function(){return this.chart.resources},timeline:function(){return this.chart.timeline},chartJSON:function(){return this.chart.toJSON()},cssVars:function(){return{"--gantt-time-unit-width":"".concat(this.timeline.TIME_UNIT_WIDTH,"px"),"--gantt-task-height":"".concat(this.timeline.TASK_HEIGHT,"px"),"--gantt-resources-height":"".concat(this.chart.getTotalResourcesHeight(),"px")}},timelineScrollLeft:function(){return this.timeline.getScrollLeft()},timelineData:function(){return this.timeline.timePeriodData},filteredTasks:function(){return this.tasks.filter((function(t){return t.isVisible()}))}},mounted:function(){this.syncVirtualScroll()},methods:{zoom:function(t){if(t.ctrlKey||t.metaKey){t.preventDefault();var e=t.deltaY;e>0?this.timeline.setTimePeriodOffset(1):this.timeline.setTimePeriodOffset(-1),this.syncVirtualScroll()}},scroll:function(t){this.timeline.scrollTo(t.target.scrollLeft)},syncVirtualScroll:function(){var t=this.$refs.virtualScroll;t.scrollLeft=this.timeline.getScrollLeft()},toggleAnimations:function(t){void 0==t&&(t=!this.chart.getSetting("tasksAnimations",!0)),this.chart.setSettings({tasksAnimations:Boolean(t)})},getTimelineRef:function(){var t=this.$refs[this.timeline.id];return t||(this.chart.getSetting("verbose",!1)&&console.warn('No timeline found with id "'.concat(this.timeline.id,'"')),null)},taskSpawnStart:function(t){var e=this.getTimelineRef();if(e){var s=e.getBoundingClientRect(),a=this.timeline.getDateFromPosition(t.clientX-s.left);this.taskSpawnData={startX:t.clientX,startY:t.clientY,firstCall:!0,startDate:a},document.addEventListener("mousemove",this.taskSpawn),document.addEventListener("mouseup",this.taskSpawnEnd,{once:!0})}},taskSpawn:function(t){var e;if(null!==(e=this.taskSpawnData)&&void 0!==e&&e.firstCall){var s=this.taskSpawnData.startX,a=t.clientX-s,n=20;if(!(Math.abs(a)<n)){var i=this.getTimelineRef();if(i){var r=i.getBoundingClientRect(),o=this.timeline.getDateFromPosition(s+a-r.left),c=o.format(j).toString(),u=o.add(1,"minute").format(j).toString(),l=Math.floor((this.taskSpawnData.startY-r.top)/this.timeline.TASK_HEIGHT);l<0?l=0:l>=this.resources.length-1&&(l=this.resources.length-1);var d=this.chart.createTask({name:"New task",start:c,end:u,y:l});this.taskSpawnData.task=d,d.resizeStart(p.right,t,{resizeEndCallback:this.spawnTaskModalShow}),this.taskSpawnData.firstCall=!1}}}},taskSpawnEnd:function(){var t;window.removeEventListener("mousemove",this.taskSpawn),null!==(t=this.taskSpawnData)&&void 0!==t&&t.firstCall&&this.taskSpawnCancel()},taskSpawnCancel:function(){var t;null!==(t=this.taskSpawnData)&&void 0!==t&&t.task&&this.taskSpawnData.task.remove(),this.taskSpawnData=null},spawnTaskModalShow:function(){var t,e=null===(t=this.taskSpawnData)||void 0===t?void 0:t.task;e&&Object.assign(this.taskSpawnModal,{shown:!0,taskName:e.name,taskStart:e.getStartString(),taskEnd:e.getEndString()})},spawnTaskModalActionCancel:function(){this.taskSpawnModal.shown=!1,this.taskSpawnCancel()},spawnTaskModalActionSave:function(){this.taskSpawnModal.shown=!1;var t=this.taskSpawnModal;this.taskSpawnData.task.name=t.taskName,this.taskSpawnData.task.start=T()(t.taskStart).unix(),this.taskSpawnData.task.end=T()(t.taskEnd).unix(),this.taskSpawnData=null}}},X=J,K=(s("0f58"),Object(O["a"])(X,r,o,!1,null,"1b4bb16a",null)),V=K.exports,B={name:"App",components:{GanttChart:V},data:function(){return{chart:new U}},computed:{chartJSON:function(){return this.chart.toJSON()},timeline:function(){return this.chart.timeline},selectedTimePeriod:{get:function(){return this.timeline.timePeriod.name},set:function(t){this.timeline.setTimePeriod(t)}},verbose:{get:function(){return this.chart.getSetting("verbose",!1)},set:function(t){this.chart.setSettings({verbose:t})}},snapToGrid:{get:function(){return this.chart.getSetting("snapToGrid",!1)},set:function(t){this.chart.setSettings({snapToGrid:t})}}},mounted:function(){var t=this,e=new Array(10).fill(0).map((function(t,e){return{name:"Resource ".concat(e+1)}}));e.forEach((function(e){return t.chart.createResource(e)}));var s=[{name:"Task 1",start:"2022-01-12 08:00",end:"2022-01-14 10:00"}];s.forEach((function(e){return t.chart.createTask(e)}))}},q=B,$=(s("5c0b"),Object(O["a"])(q,n,i,!1,null,null,null)),F=$.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(F)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"9c0c":function(t,e,s){},a7e5:function(t,e,s){},ebc9:function(t,e,s){}});
//# sourceMappingURL=app.b587c171.js.map